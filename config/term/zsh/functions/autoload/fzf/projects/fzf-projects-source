# Display list of all projects with icon and name
function fzf-projects-source() {
  # Iterate through all projects in PROJECTS_INDEX
  for projectKey in ${=PROJECTS_INDEX}; do
    local projectPath=${(P)${:-PROJECT_${projectKey}_PATH}}
    local projectName=${(P)${:-PROJECT_${projectKey}_NAME}}
    local projectIcon=${(P)${:-PROJECT_${projectKey}_ICON}}

    [[ $projectPath == ""  ]] && continue

    local projectDisplayName="$(project-colorize $projectName)"

    echo "${projectName}â–®${projectDisplayName}"
  done
}
