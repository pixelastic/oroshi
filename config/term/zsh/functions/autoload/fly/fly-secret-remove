# Remove a secret from a Fly.io application
# Usage:
# $ fly-secret-remove KEY         # Remove secret from current app
# $ fly-secret-remove KEY myapp   # Remove secret from specific app
function fly-secret-remove() {
	local secretKey="$1"
	local appName="$2"

  local commandFlag=""
  if [[ -n "$appName" ]]; then
    commandFlag="--app $appName"
  else
    local flyConfig="$(fly-config-path)"
    [[ -z $flyConfig ]] && return 1
    commandFlag="--config $flyConfig"
  fi

  fly secrets unset ${secretKey} ${=commandFlag}
}
