#!/home/tim/.nvm/versions/node/v12.12.0/bin/node
const helper = require('../lib/helper.js');

(async () => {
  const sessionName = process.argv[2];
  const windowName = process.argv[3];

  const currentWindow = await helper.getWindow(sessionName, windowName);

  const sessionStyling = helper.styling(sessionName);
  const windowStyling = helper.styling(windowName);
  const styling = { ...sessionStyling, ...windowStyling };

  if (currentWindow.isActive) {
    const openingTab = helper.colorize("", undefined, styling.background);
    const closingTab = helper.colorize("", styling.background, styling.foreground);
    const content = helper.colorize(windowName, styling.background, styling.foreground);
    console.info(`${openingTab}!${content}${closingTab}`);
    return;
  }

  console.info(windowName);

})();
