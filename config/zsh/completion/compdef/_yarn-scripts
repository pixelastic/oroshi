#compdef

# Suggest list of all subcommands of yarn run
# - scripts defined in package.json
# - local binaries installed in node_modules
function _yarn-scripts() {
  # package.json scripts
  local scriptSuggestions=(${(f)"$(complete-yarn-scripts)"})
  if [[ $scriptSuggestions != "" ]]; then
    _describe -V "$(completion-header $COLOR_ALIAS_LANGUAGE_JAVASCRIPT $COLOR_BLACK '  package.json scripts ')" scriptSuggestions
  fi

  # local node_modules/.bin binaries
  local binarySuggestions=(${(f)"$(complete-yarn-binaries)"})
  if [[ $binarySuggestions != "" ]]; then
    _describe -V "$(completion-header $COLOR_ALIAS_LANGUAGE_JAVASCRIPT $COLOR_BLACK '  node_modules binaries ')" binarySuggestions
  fi
}
