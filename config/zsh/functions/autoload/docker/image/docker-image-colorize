# Displays a colorized version of an image name
# Usage:
# $ docker-image-colorize alpine                      # alpine
# $ docker-image-colorize alpine:latest               # alpine:latest
# $ docker-image-colorize alpine --with-icon          #   alpine
# $ docker-image-colorize alpine --with-icon --remote #   alpine
function docker-image-colorize() {
  zparseopts -E -D \
    -with-icon=flagWithIcon \
    -remote=flagRemote
  local isWithIcon=${#flagWithIcon}
  local isRemote=${#flagRemote}

  # Split image name and its tag
  local inputSplit=(${(@s/:/)1})
  local imageName=$inputSplit[1]
  local tagName=$inputSplit[2]

  # Image color {{{
  if [[ "$isRemote" == "1" ]]; then
    local imageColor=$COLOR_ALIAS_DOCKER_IMAGE_REMOTE
  else
    local imageColor=$COLOR_ALIAS_DOCKER_IMAGE
  fi
  # }}}
  
  # Tag color {{{
  local tagSuffix=""
  if [[ "$tagName" != "" ]]; then
    tagSuffix=":$(docker-tag-colorize $tagName)"
  fi

  # If --with-icon is not passed, we simply display the colored image
  if [[ "$isWithIcon" != 1 ]]; then
    echo "$(colorize "${imageName}" $imageColor)${tagSuffix}"
    return
  fi

  # If --with-icon is passed, we display a different icon based on if the image
  # is local or remote
  if [[ "$isRemote" == "1" ]]; then
    echo "$(colorize " ${imageName}" $imageColor)${tagSuffix}"
    return
  else
    echo "$(colorize " $imageName" $imageColor)${tagSuffix}"
    return
  fi
}
