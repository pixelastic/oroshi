# Return the image used as a preview of the page
# Usage
# $ notion-page-preview https://{pageUrl}
function notion-page-preview() {
	local pageUrl="$1"
	local pageId="$(notion-page-id $pageUrl)"

	# We get the URL of the first image children at the top of the page
	notion-api blocks/${pageId}/children?page_size=2 |
		jq -r '.results[] | select(.type == "image") | .image.file.url' |
		head -n 1
}
