#!/usr/bin/env zsh
# Colorize the given text in the given color
# Usage:
#   $ colorize main BLUE           # Displays "main" in blue
#   $ colorize anything 145        # Displays "anything" in color 145

local input="$1"
local colorValue="$2"

# Use named color if known
local knownColorValue=${(P)${:-COLOR_${colorValue}}}
if [[ $knownColorValue != '' ]]; then
  colorValue=$knownColorValue
fi

# Output the magic codes differently if running from the prompt or not
if [[ "$OROSHI_IS_PROMPT" = 1 ]]; then
  echo "%F{${colorValue}}${input}%f"
else
  echo "[38;5;${colorValue}m${input}[00m"
fi
