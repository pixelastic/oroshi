#!/usr/bin/env zsh
# Start/Stop a Pomodoro
# Running => Stopped
# Paused => Stopped
# Stopped => Running
# Finished => Running

# Ensuring this script can be called from outside of zsh (for example as a key
# binding)
path+=('/home/tim/local/bin')
path+=('/home/tim/.oroshi/scripts/bin')
export PATH

local currentStatus="$(pomodoro-status)"

# Currently running pomodoro, we stop it
if [[ $currentStatus == running* ]]; then
  pomodoro-stop
  exit 0
fi

# Already stopped, we start a new one
if [[ $currentStatus == "stopped" ]]; then
  pomodoro-start
  exit 0
fi

# Previous run is finished, we start a new one
if [[ $currentStatus == "finished" ]]; then
  pomodoro-start
  exit 0
fi

