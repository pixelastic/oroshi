#!/usr/bin/env zsh
local fullPath="$1"
[[ $fullPath[1] == "~" ]] && fullPath=${~fullPath}
[[ $fullPath[1] != "/" ]] && fullPath="${PWD}/${fullPath}"

# Display directory listing using exa
if [ -d $fullPath ]; then
  l --long $fullPath
  exit 0
fi

# Display file
bat \
  --paging=never \
  --style=numbers \
  --color=always \
  --line-range :50 \
  $fullPath
