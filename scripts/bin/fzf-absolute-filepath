#!/usr/bin/env zsh
# Fuzzy finding in all files of the current project
# Returns the full filepath
local gitRoot="$(git-directory-root)"

local selection="$(\
f \
  --base-directory "$gitRoot" \
  . \
  --color always \
    | fzf \
      --ansi \
      --preview "fzf-preview ${gitRoot}/{}" \
)"
selection=${selection:gs/ /\\ /}

print -D "${gitRoot}/${selection}"
