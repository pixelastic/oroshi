#!/usr/bin/env zsh
# Display the list of remotes
# Usage:
# $ git-remote-list

local rawGitRemotes="$(git remote)"
local currentRemote="$(git-remote-current)"

# Loop through all the raw output, and format/color them before adding them to
# the output
local output=""
for remoteName in ${(f)rawGitRemotes}; do
  local row=""

  # Current remote
  if [[ "$remoteName" == "$currentRemote" ]]; then
    row+="$(colorize "" GREEN)▮"
  else
    row+="▮"
  fi
  # }}}

  # Remote name {{{
  row+="$(git-remote-colorize "$remoteName" --with-icon)▮"
  # }}}

  # Remote url {{{
  local remoteUrl="$(git-remote-url "$remoteName")"
  row+="$(colorize "$remoteUrl" NEUTRAL)▮"
  # }}}

  output+="$row\n"
done

table $output




