#!/usr/bin/env zsh
# Returns the specific options required to pass to fzf
# Usage:
# $ fzf-regexp-search-options
# --source         # Mandatory, list of suggestions

zmodload zsh/zutil
zparseopts -E -D \
  -source:=flagSource

local fzfSourcePath=${flagSource[2]}

local fzfOptions=()
fzfOptions+="--disabled"
fzfOptions+="--delimiter=   "
fzfOptions+="--with-nth=3"
fzfOptions+="--bind=change:reload:sleep 0.1;${fzfSourcePath} {q} || true"

# One per line
for fzfOption in $fzfOptions; do
  echo $fzfOption
done
