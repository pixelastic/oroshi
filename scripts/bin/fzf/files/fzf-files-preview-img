#!/usr/bin/env zsh
# Display the details of an image file
# Usage
# $ fzf-files-preview-img /full/path/to/image.png

local filepath=$1
local baseName=${filepath:t}

local splitInput=(${(@s/   /)@})
local imageName=$splitInput[1]
local imageDescription=$splitInput[2]

local dimensions="$(dimensions $filepath)"
local filesize="$(filesize-human $filepath)"

# Filename
colorize "$baseName" $FILETYPE_GROUP_IMAGE_COLOR
echo $filesize
echo "Dimensions: $dimensions"

kitty icat \
	--clear \
	--transfer-mode=memory \
	--stdin=no \
	--place=${FZF_PREVIEW_COLUMNS}x${FZF_PREVIEW_LINES}@0x0 \
	$filepath
