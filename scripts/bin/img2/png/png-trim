#!/usr/bin/env zsh
# Trim any whitespace around a png
# Usage:
# $ png-trim ./path/to/file.png                   # Trims the file in place
# $ png-trim ./path/to/file.png ./other.file.png  # Trims several files

local input="$@"

for inputPath in ${=input}; do
  local outputPath="${inputPath:a:r}.png"

  # Skip if not a valid png
  if [[ $inputPath != *.png ]]; then
    echo "âœ˜ $inputPath is not a png file. Skipping."
    continue
  fi

  convert \
    $inputPath \
    -trim \
    $inputPath
done
