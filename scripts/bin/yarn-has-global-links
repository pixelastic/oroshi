#!/usr/bin/env zsh
[[ ! $commands[yarn] ]] && exit 0

# Display the list of all linked modules
local node_modules="$(yarn bin 2>/dev/null)/.."
local linkedModules=($(find $node_modules -maxdepth 1 -type l -printf "%l\n" 2>/dev/null))

for moduleDestination in $linkedModules; do
  [[ $moduleDestination == */.config/yarn/link/* ]] && exit 0
done
exit 1
