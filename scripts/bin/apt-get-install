#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative '../etc/apt-get-helper/apt-get-helper'

# Install specific packages
class AptGetInstall
  include AptGetHelper

  def initialize(*args)
    @packages = args
  end

  def run
    @packages.each do |package|
      if installed?(package)
        version = get_current_version(package)
        version = colorize(version, :version)
        package = colorize(package, :success)
        puts "#{package} was already installed (#{version})"
        next
      end

      install package
      package = colorize(package, :success)
      puts "#{colorize(package, :success)} installed"
    end
  end
end
AptGetInstall.new(*ARGV).run
