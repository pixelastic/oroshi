#!/usr/bin/env zsh
# NOTE: This is a WIP and is not implemented properly
# Add tab to attention list
# Usage:
# $ kitty-tab-attention-add {tabId}     # Add {tabId} from attention list
# $ kitty-tab-attention-add             # Add current tab from attention list
local tabId=$1
[[ $tabId == "" ]] && tabId="$(kitty-tab-id)"

# Return early if file doesn't exist
local attentionFile=$OROSHI_TMP_FOLDER/kitty/attention
[[ ! -f "$attentionFile" ]] && exit 0

# Return early if tab ID already in file
grep -q "^${tabId}$" "$attentionFile" 2>/dev/null && exit 0

# Add tab ID and refresh
echo "$tabId" >>"$attentionFile"
kitty-refresh
