#!/usr/bin/env zsh
# Get a Kitty tab ID
# Usage: kitty-tab-id           # Get current tab ID
#        kitty-tab-id "TabName"  # Get tab ID by name

local tabName="$1"

# No argument: get current tab ID
if [[ "$tabName" == "" ]]; then
  kitty@ ls | jq -r '.[0].tabs[] | select(.is_focused == true) | .id'
  exit 0
fi

# Argument provided: get tab ID by name
kitty@ ls | jq -r --arg name "$tabName" '.[0].tabs[] | select(.title==$name) | .id'
