#!/usr/bin/env zsh
# Interactively select a project using fzf and create a kitty tab
# Usage:
# $ kitty-tab-create-interactive            # Opens fzf to select project
source $ZSH_CONFIG_PATH/theming/env/projects.zsh

echo -n "Tab name: "
read -r projectName

# Exit if no selection
if [[ "$projectName" == "" ]]; then
  exit 1
fi

# Get the project path
local kittyCwd=$(project-path "$projectName")
[[ "$kittyCwd" == "" ]] && kittyCwd="current"

kitty-tab-create "$projectName" --cwd "$kittyCwd" --focus
