#!/usr/bin/env zsh
# Set user variables on a specific window
# Usage:
# $ kitty-window-set-var 123 "foo=bar"                    # Set one variable
# $ kitty-window-set-var 123 "foo=bar" "baz=qux"          # Set multiple variables

local windowId="$1"
local keyValuePairs=("${@:2}")

if [[ "$windowId" == "" || "${#keyValuePairs[@]}" == "0" ]]; then
  echo "Usage: kitty-window-set-var <window-id> <var1=value1> [var2=value2 ...]"
  exit 2
fi

kitty@ set-user-vars --match "id:${windowId}" "${keyValuePairs[@]}"
